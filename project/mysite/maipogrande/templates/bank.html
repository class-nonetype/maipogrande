{% extends './layout.html' %}
{% block content %}
{% load humanize %}
{% load static %}


<style>

    .text-title {
        padding-top : 60px;
        padding-bottom: 100px;
    }
    
    .card-profile {
        padding-top : 10px;
        padding-bottom: 15px;
    }

</style>

<div class="row">
    <div class="col-12">
        

		<div class="p-3 mb-2 bg-dark text-white">
			<h1 class="display-6 text-title text-center">MiBanco</h1>
		</div>
		{% if banks.count > 0 %}

			<div class="mb-2bg-white text-dark" style="padding-top: 100px; padding-bottom: 100px;">
				
				{% if banks.count == 1 %}
					<h1 class="display-6 text-start">{{ banks.count }} Cuenta disponible</h1>

				{% elif banks.count > 1 %}
					<h1 class="display-6 text-start">{{ banks.count }} Cuentas disponibles</h1>

				{% endif %}
			</div>

		{% else %}
			<div class="mb-2bg-white text-dark" style="padding-top: 100px; padding-bottom: 100px;">
				<h1 class="display-6 text-center">No hay cuentas bancarias disponibles por el momento ☹</h1>
			</div>
		{% endif %}

        {% for bank in banks %}

		<div class="card">
                
			<div class="card-body">

				<div class="row">
					<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                        <legend>{{ bank.type_bank_account }}</legend>
						
						<div class = "form-group">
							<fieldset disabled>
								
								<div class="mb-3">
									<label for="bank_name" class="form-label">Nombre del Banco</label>
									<input type="text" id="bank_name" class="form-control" placeholder="{{ bank.bank_name }}">
								</div>


								<div class="mb-3">
									<label for="type_bank_account" class="form-label">Tipo de Cuenta Bancaria</label>
									<input type="text" id="type_bank_account" class="form-control" placeholder=" {{ bank.type_bank_account }}">
								</div>

								<div class="mb-3">
									<label for="bank_account_number" class="form-label">Numero de Cuenta Bancaria</label>
									<input type="text" id="bank_account_number" class="form-control" placeholder=" {{ bank.bank_account_number }}">
								</div>

								<div class="mb-3">
									<label for="bank_amount" class="form-label">Saldo disponible</label>
									<input type="text" id="bank_amount" class="form-control" placeholder="$ {{ bank.bank_amount }}">
								</div>

								<div class="mb-3">
									<label for="owner_full_name" class="form-label">Nombre completo del titular</label>
									<input type="text" id="owner_full_name" class="form-control" placeholder=" {{ bank.owner_full_name }}">
								</div>
							
							</fieldset>

							<a class="btn btn-primary btn-danger btn-md px-5" type="submit" href="{% url 'delete_bank_account' bank.id_bank_account %}" id="btn-delete-bank-account">
								<i class="fa-solid fa-trash"></i>
								Eliminar cuenta 
							</a>

						</div>
					</div>
				</div>
			</div>
		</div>
        {% endfor %}
    </div>

    <hr class = "featurette-divider"
		style = "padding-top : 40px; padding-bottom: 80px; background-color: white;">


    <div class="col-12">
		<div class="p-3 mb-2 bg-dark text-white">
			<h1 class="display-6 text-start">Añade una nueva cuenta bancaria</h1>
		</div>

        
		<div class="card">
                
			<div class="card-body">

				<div class="row">
					<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
						<br></br>



						<form action="" method="POST" enctype="multipart/form-data">
							{% csrf_token %}

							<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">

								<div class="table-responsive py-4">

									<table class="table table-striped">

										<thead>
											<tr>
												<th></th>
											</tr>
										</thead>
										
										<tbody>
					
											<tr>
												{{ form.as_p }}
												
												<hr class = "featurette-divider"
													style = "padding-top : 10px; padding-bottom: 20px; background-color: white;">

												<div class="d-grid gap-2 col-6 mx-auto">

													<button class="btn btn-primary btn-danger btn-lg text-white"  type="submit" href="#" id="btn-add-bank-account">
														<i class="fa-solid fa-building-columns"></i>
														Agregar cuenta bancaria
													</button>

												</div>
											</tr>
										</tbody>
										<hr class = "featurette-divider"
											style = "padding-top : 10px; background-color: white;">

									</table>

								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
    </div>
</div>

{% endblock %}

